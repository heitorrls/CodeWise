<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CodeWise - Perfil</title>
    <link rel="stylesheet" href="src/assets/styles/theme.css" />
    <link rel="stylesheet" href="src/assets/styles/home.css" />
    <link rel="stylesheet" href="src/assets/styles/perfil_novo.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <script src="src/assets/js/theme-loader.js"></script>
  </head>
  <body>
    <header class="header">
      <h1 class="logo">Perfil</h1>
    </header>

    <div class="container perfil-container">
      <nav class="sidebar">
        <button class="nav-item" onclick="window.location.href='modulos.html'">
          <i class="fas fa-map"></i> Módulos
        </button>
        <button class="nav-item active" onclick="window.location.href='perfil.html'">
          <i class="fas fa-user"></i> Perfil
        </button>
        <button class="nav-item" onclick="window.location.href='loja.html'">
          <i class="fas fa-store"></i> Loja
        </button>
        <button class="nav-item" onclick="window.location.href='rank.html'">
          <i class="fas fa-trophy"></i> Rank
        </button>
        <button class="nav-item" onclick="window.location.href='calendario.html'">
          <i class="fas fa-calendar-alt"></i> Calendário
        </button>
        <button class="nav-item" onclick="window.location.href='estatisticas.html'">
          <i class="fas fa-chart-pie"></i> Estatísticas
        </button>
        <button class="nav-item" onclick="window.location.href='configuracoes.html'">
          <i class="fas fa-cog"></i> Configurações
        </button>
      </nav>

      <main class="main-content profile-main">
        <section class="hero-card">
          <div class="avatar-area">
            <div class="avatar-wrapper">
              <img
                id="profileAvatar"
                src="src/assets/images/macaquinho-removebg-preview.png"
                alt="Foto de perfil"
              />
              <input type="file" id="avatarInput" accept="image/*" style="display:none" />
              <button class="edit-avatar-btn" id="changePhotoBtn">Trocar foto</button>
            </div>
            <div class="user-info">
              <h1 id="userName"></h1>
              <p class="username" id="userHandle"></p>
              <p class="email" id="userEmail"></p>
            </div>
          </div>
          <div class="quick-actions">
            <button class="ghost" onclick="window.location.href='conquistas.html'">
              Conquistas
            </button>
            <button class="ghost" onclick="window.location.href='conta.html'">
              Conta
            </button>
          </div>
        </section>

        <section class="panels">
          <div class="panel stats">
            <div class="panel-header">
              <h2>Estatísticas</h2>
              <a href="estatisticas.html">Ver detalhes</a>
            </div>
            <div class="stat-grid">
              <div class="stat-card">
                <span class="label">Questões respondidas</span>
                <strong id="statTotal">0</strong>
            </div>
            <div class="stat-card">
              <span class="label">Taxa de acerto</span>
              <strong id="statAccuracy">0%</strong>
            </div>
            <div class="stat-card">
              <span class="label">Lições concluídas</span>
              <strong id="statLessons">0</strong>
            </div>
          </div>
        </div>

        <div class="panel achievements">
          <div class="panel-header">
            <h2>Conquistas</h2>
            <a href="conquistas.html">Ver todas</a>
          </div>
          <div class="achievements-list" id="achievementsPreview"></div>
        </div>

        <div class="panel achievements">
          <div class="panel-header">
            <h2>Inventário</h2>
            <a href="inventario.html">Abrir inventário</a>
          </div>
          <div class="achievements-list" id="inventoryPreview"></div>
        </div>
      </section>
    </main>
    </div>

    <div class="toast" id="achievementToast">
      <div class="toast-icon">★</div>
      <div class="toast-content">
        <p class="toast-label">Conquista desbloqueada</p>
        <strong id="toastTitle"></strong>
      </div>
    </div>
    <script src="src/pages/script.js"></script>
  </body>
</html>
